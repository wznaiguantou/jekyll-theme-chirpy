---
layout: post
title:  "在JVM中什么样的指令是具备原子性"
date:   2021-11-08 14:07:31 +0800
categories: 线程学习
---


## 在JVM中什么样的指令是具备原子性

| 指令集                        | 操作              |
|:-----------------------------|:-----------------|
| lock            | 作用主存中的变量，把该变量标记为一个线程独占的状态 （E）                   |
| read            | 作用主存中的变量，把一个主存中的变量读取到工作内存里去，后去 **load** 会用到 |
| load            | 把从主存读出来的变量，放到工作内存的变量副本中
| use             | 把工作内存的变量传递给执行引擎
| assign          | 把执行引擎的结果赋值给本地变量副本
| store           | 把本地变量副本保存到主存中
| write           | 把变量值赋值给变量
| unlock          | 作用主存中的变量，把一个处于锁定状态的变量释放出来，释放后该变量可以被其他线程锁定 |

如图
  ![](../../assets/img/thread/AtomicCommand.png){: .normal }
